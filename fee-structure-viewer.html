<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fee Structure - Academic Year 2025-2026</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            overflow-x: auto;
        }

        .tab {
            padding: 20px 30px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: #6c757d;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }

        .tab:hover {
            background: rgba(79, 172, 254, 0.1);
            color: #4facfe;
        }

        .tab.active {
            color: #4facfe;
            border-bottom-color: #4facfe;
            background: white;
        }

        .overview-content, .term-content {
            padding: 30px;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .overview-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 12px;
            padding: 25px;
            color: white;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .overview-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .overview-card h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .overview-card .grade {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 15px;
        }

        .overview-card .total-fee {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .overview-card .fee-items {
            font-size: 0.8rem;
            opacity: 0.9;
        }

        .fee-structure-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .fee-item-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #4facfe;
            transition: transform 0.3s ease;
        }

        .fee-item-card:hover {
            transform: translateX(5px);
        }

        .fee-bucket {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .fee-amount {
            font-size: 1.5rem;
            color: #4facfe;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .fee-mandatory {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            background: #28a745;
            color: white;
        }

        .fee-optional {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            background: #ffc107;
            color: #212529;
        }

        .summary-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            padding: 25px;
            color: white;
            margin-top: 25px;
        }

        .summary-card h3 {
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .summary-row:last-child {
            border-bottom: none;
            font-size: 1.3rem;
            font-weight: bold;
            padding-top: 15px;
        }

        .back-button {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 20px;
            font-size: 1rem;
            transition: background 0.3s ease;
        }

        .back-button:hover {
            background: #5a6268;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .tabs {
                flex-direction: column;
            }

            .overview-grid {
                grid-template-columns: 1fr;
            }

            .fee-structure-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Fee Structure</h1>
            <p>Academic Year: 2025-2026</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showOverview()">Overview</button>
            <button class="tab" onclick="showTerm('Term 1')">Term 1</button>
            <button class="tab" onclick="showTerm('Term 2')">Term 2</button>
            <button class="tab" onclick="showTerm('Term 3')">Term 3</button>
        </div>

        <div id="overview-content" class="overview-content">
            <div class="overview-grid" id="overview-cards"></div>
        </div>

        <div id="term-content" class="term-content hidden">
            <button class="back-button" onclick="showOverview()">‚Üê Back to Overview</button>
            <div id="term-details"></div>
        </div>
    </div>

    <script>
        const feeData = {
            "data": {
                "feeStructures": [
                    {
                        "id": "5f3bf932-5d85-4d33-8ae3-065b6327d07d",
                        "name": "Grade 4  - Term 3",
                        "academicYear": {
                            "id": "9f08432f-1d3d-4c17-bfd5-dfac2a8cf888",
                            "name": "2025-2026"
                        },
                        "terms": [
                            {
                                "id": "9c508143-6bb0-4a99-b865-3a4ce203b443",
                                "name": "Term 3"
                            }
                        ],
                        "gradeLevels": [
                            {
                                "id": "7cc31c0e-d4b1-4e00-8f3e-557f7ae65ce8",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "2ca2ff50-eefb-4385-bd2e-2e7504b439fc",
                                    "name": "Grade 4"
                                }
                            }
                        ],
                        "items": [
                            {
                                "id": "adb83663-0900-4b1c-8150-1085f649db9e",
                                "feeBucket": {
                                    "id": "34b629e1-dc5a-4b9f-9b77-b2759c7eecbc",
                                    "name": "Tuition Fees"
                                },
                                "amount": 3500,
                                "isMandatory": true
                            },
                            {
                                "id": "26fa76e5-c6be-4ef4-872a-4fec89295869",
                                "feeBucket": {
                                    "id": "728d0d93-96ec-4750-9f76-8fe701a7b8a7",
                                    "name": "Meals & Catering"
                                },
                                "amount": 4500,
                                "isMandatory": true
                            }
                        ],
                        "isActive": true,
                        "createdAt": "2025-11-26T21:27:11.328Z",
                        "updatedAt": "2025-11-26T21:27:11.328Z"
                    },
                    {
                        "id": "ab5c947d-a17d-4c28-9acc-26e396054043",
                        "name": "Grade 4  - Term 2",
                        "academicYear": {
                            "id": "9f08432f-1d3d-4c17-bfd5-dfac2a8cf888",
                            "name": "2025-2026"
                        },
                        "terms": [
                            {
                                "id": "d2aae875-c098-4984-b352-7f6fa453afea",
                                "name": "Term 2"
                            }
                        ],
                        "gradeLevels": [
                            {
                                "id": "7cc31c0e-d4b1-4e00-8f3e-557f7ae65ce8",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "2ca2ff50-eefb-4385-bd2e-2e7504b439fc",
                                    "name": "Grade 4"
                                }
                            }
                        ],
                        "items": [
                            {
                                "id": "e9e6b305-5086-40cf-b84e-10d6bb9ed75e",
                                "feeBucket": {
                                    "id": "34b629e1-dc5a-4b9f-9b77-b2759c7eecbc",
                                    "name": "Tuition Fees"
                                },
                                "amount": 2000,
                                "isMandatory": true
                            },
                            {
                                "id": "c948ff1f-3a5a-4935-ac7a-60c9773cf41f",
                                "feeBucket": {
                                    "id": "728d0d93-96ec-4750-9f76-8fe701a7b8a7",
                                    "name": "Meals & Catering"
                                },
                                "amount": 4000,
                                "isMandatory": true
                            }
                        ],
                        "isActive": true,
                        "createdAt": "2025-11-26T21:27:11.019Z",
                        "updatedAt": "2025-11-26T21:27:11.019Z"
                    },
                    {
                        "id": "73f4de65-2e5e-47d6-bc50-8f416224943c",
                        "name": "Grade 4  - Term 1",
                        "academicYear": {
                            "id": "9f08432f-1d3d-4c17-bfd5-dfac2a8cf888",
                            "name": "2025-2026"
                        },
                        "terms": [
                            {
                                "id": "3fcf3e5f-c3ce-4a65-9b94-2c01eb93dd99",
                                "name": "Term 1"
                            }
                        ],
                        "gradeLevels": [
                            {
                                "id": "7cc31c0e-d4b1-4e00-8f3e-557f7ae65ce8",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "2ca2ff50-eefb-4385-bd2e-2e7504b439fc",
                                    "name": "Grade 4"
                                }
                            }
                        ],
                        "items": [
                            {
                                "id": "234d8e8f-90a7-4bef-8576-5fb65fe430e5",
                                "feeBucket": {
                                    "id": "728d0d93-96ec-4750-9f76-8fe701a7b8a7",
                                    "name": "Meals & Catering"
                                },
                                "amount": 4000,
                                "isMandatory": true
                            },
                            {
                                "id": "b3b97983-2869-4d88-bd1d-15281b149093",
                                "feeBucket": {
                                    "id": "34b629e1-dc5a-4b9f-9b77-b2759c7eecbc",
                                    "name": "Tuition Fees"
                                },
                                "amount": 2000,
                                "isMandatory": true
                            }
                        ],
                        "isActive": true,
                        "createdAt": "2025-11-26T21:27:10.670Z",
                        "updatedAt": "2025-11-26T21:27:10.670Z"
                    },
                    {
                        "id": "292ec449-ea0a-446b-abce-7c7ba8d4682f",
                        "name": "test - Term 3",
                        "academicYear": {
                            "id": "9f08432f-1d3d-4c17-bfd5-dfac2a8cf888",
                            "name": "2025-2026"
                        },
                        "terms": [
                            {
                                "id": "9c508143-6bb0-4a99-b865-3a4ce203b443",
                                "name": "Term 3"
                            }
                        ],
                        "gradeLevels": [
                            {
                                "id": "1a6715e2-fb32-4691-8b3d-f1eb5e8d28de",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "9f26c11a-a4df-4a18-9caf-6d37aba90f72",
                                    "name": "Grade 2"
                                }
                            },
                            {
                                "id": "27dd9a5c-a91a-40e8-90f7-e9ff1f975c88",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "41e76678-04c1-4d87-8b1f-060f6e53e9ec",
                                    "name": "Grade 1"
                                }
                            }
                        ],
                        "items": [
                            {
                                "id": "ece400fc-0116-4d41-860b-c38b042ffef4",
                                "feeBucket": {
                                    "id": "34b629e1-dc5a-4b9f-9b77-b2759c7eecbc",
                                    "name": "Tuition Fees"
                                },
                                "amount": 10000,
                                "isMandatory": true
                            },
                            {
                                "id": "c6fb4a88-0ad0-4493-bea6-4f6770a6ece5",
                                "feeBucket": {
                                    "id": "2fe340b3-19bd-48c4-ad34-0a93dd98f27a",
                                    "name": "Library Fees"
                                },
                                "amount": 2000,
                                "isMandatory": true
                            },
                            {
                                "id": "cbf2fc77-7cbd-4a43-a128-6225aa42b5b3",
                                "feeBucket": {
                                    "id": "3d1828aa-40a3-45e0-9420-f81f1192c4b7",
                                    "name": "Boarding Fees"
                                },
                                "amount": 8000,
                                "isMandatory": true
                            }
                        ],
                        "isActive": true,
                        "createdAt": "2025-11-26T20:52:49.027Z",
                        "updatedAt": "2025-11-26T20:52:49.027Z"
                    },
                    {
                        "id": "d7e57a70-2494-4e44-a156-0b9cd9a20cc1",
                        "name": "test - Term 2",
                        "academicYear": {
                            "id": "9f08432f-1d3d-4c17-bfd5-dfac2a8cf888",
                            "name": "2025-2026"
                        },
                        "terms": [
                            {
                                "id": "d2aae875-c098-4984-b352-7f6fa453afea",
                                "name": "Term 2"
                            }
                        ],
                        "gradeLevels": [
                            {
                                "id": "1a6715e2-fb32-4691-8b3d-f1eb5e8d28de",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "9f26c11a-a4df-4a18-9caf-6d37aba90f72",
                                    "name": "Grade 2"
                                }
                            },
                            {
                                "id": "27dd9a5c-a91a-40e8-90f7-e9ff1f975c88",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "41e76678-04c1-4d87-8b1f-060f6e53e9ec",
                                    "name": "Grade 1"
                                }
                            }
                        ],
                        "items": [
                            {
                                "id": "54b531b4-4a3a-4276-8991-e5c40ab6ff13",
                                "feeBucket": {
                                    "id": "34b629e1-dc5a-4b9f-9b77-b2759c7eecbc",
                                    "name": "Tuition Fees"
                                },
                                "amount": 20000,
                                "isMandatory": true
                            },
                            {
                                "id": "fe66b282-3ea9-4757-88d4-4272e4fb0f85",
                                "feeBucket": {
                                    "id": "2fe340b3-19bd-48c4-ad34-0a93dd98f27a",
                                    "name": "Library Fees"
                                },
                                "amount": 2000,
                                "isMandatory": true
                            },
                            {
                                "id": "d08d73bf-4063-4e91-8d85-8044c9358a46",
                                "feeBucket": {
                                    "id": "3d1828aa-40a3-45e0-9420-f81f1192c4b7",
                                    "name": "Boarding Fees"
                                },
                                "amount": 12000,
                                "isMandatory": true
                            }
                        ],
                        "isActive": true,
                        "createdAt": "2025-11-26T20:52:48.698Z",
                        "updatedAt": "2025-11-26T20:52:48.698Z"
                    },
                    {
                        "id": "c61ca319-e8e6-49e6-a5d2-12ff0046ecd2",
                        "name": "test - Term 1",
                        "academicYear": {
                            "id": "9f08432f-1d3d-4c17-bfd5-dfac2a8cf888",
                            "name": "2025-2026"
                        },
                        "terms": [
                            {
                                "id": "3fcf3e5f-c3ce-4a65-9b94-2c01eb93dd99",
                                "name": "Term 1"
                            }
                        ],
                        "gradeLevels": [
                            {
                                "id": "1a6715e2-fb32-4691-8b3d-f1eb5e8d28de",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "9f26c11a-a4df-4a18-9caf-6d37aba90f72",
                                    "name": "Grade 2"
                                }
                            },
                            {
                                "id": "27dd9a5c-a91a-40e8-90f7-e9ff1f975c88",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "41e76678-04c1-4d87-8b1f-060f6e53e9ec",
                                    "name": "Grade 1"
                                }
                            }
                        ],
                        "items": [
                            {
                                "id": "9d339c81-05f2-4e43-853f-56885ab4c272",
                                "feeBucket": {
                                    "id": "34b629e1-dc5a-4b9f-9b77-b2759c7eecbc",
                                    "name": "Tuition Fees"
                                },
                                "amount": 30000,
                                "isMandatory": true
                            },
                            {
                                "id": "e4d706fa-d75c-4dd9-a5ee-ae0f6056c08b",
                                "feeBucket": {
                                    "id": "3d1828aa-40a3-45e0-9420-f81f1192c4b7",
                                    "name": "Boarding Fees"
                                },
                                "amount": 10000,
                                "isMandatory": true
                            },
                            {
                                "id": "18eb30ec-7160-47bf-91d6-37e12f78ba85",
                                "feeBucket": {
                                    "id": "2fe340b3-19bd-48c4-ad34-0a93dd98f27a",
                                    "name": "Library Fees"
                                },
                                "amount": 2000,
                                "isMandatory": true
                            }
                        ],
                        "isActive": true,
                        "createdAt": "2025-11-26T20:52:48.380Z",
                        "updatedAt": "2025-11-26T20:52:48.380Z"
                    },
                    {
                        "id": "e6612bc6-bb4e-4d60-a0e0-22697bc80ea3",
                        "name": "hello - Term 3",
                        "academicYear": {
                            "id": "9f08432f-1d3d-4c17-bfd5-dfac2a8cf888",
                            "name": "2025-2026"
                        },
                        "terms": [
                            {
                                "id": "9c508143-6bb0-4a99-b865-3a4ce203b443",
                                "name": "Term 3"
                            }
                        ],
                        "gradeLevels": [
                            {
                                "id": "27dd9a5c-a91a-40e8-90f7-e9ff1f975c88",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "41e76678-04c1-4d87-8b1f-060f6e53e9ec",
                                    "name": "Grade 1"
                                }
                            }
                        ],
                        "items": [
                            {
                                "id": "4828c333-dbda-4442-a1ba-370286d7698d",
                                "feeBucket": {
                                    "id": "4531ca4c-4b8e-4db2-9fe1-7691368854d2",
                                    "name": "Activities"
                                },
                                "amount": 239900,
                                "isMandatory": true
                            }
                        ],
                        "isActive": true,
                        "createdAt": "2025-11-26T20:38:20.929Z",
                        "updatedAt": "2025-11-26T20:38:20.929Z"
                    },
                    {
                        "id": "7397a13e-7067-48f0-816a-d4e3d28caa64",
                        "name": "hello - Term 2",
                        "academicYear": {
                            "id": "9f08432f-1d3d-4c17-bfd5-dfac2a8cf888",
                            "name": "2025-2026"
                        },
                        "terms": [
                            {
                                "id": "d2aae875-c098-4984-b352-7f6fa453afea",
                                "name": "Term 2"
                            }
                        ],
                        "gradeLevels": [
                            {
                                "id": "27dd9a5c-a91a-40e8-90f7-e9ff1f975c88",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "41e76678-04c1-4d87-8b1f-060f6e53e9ec",
                                    "name": "Grade 1"
                                }
                            }
                        ],
                        "items": [
                            {
                                "id": "2f74b060-9a5d-41d2-ac79-d11feff78d26",
                                "feeBucket": {
                                    "id": "4531ca4c-4b8e-4db2-9fe1-7691368854d2",
                                    "name": "Activities"
                                },
                                "amount": 56000,
                                "isMandatory": true
                            }
                        ],
                        "isActive": true,
                        "createdAt": "2025-11-26T20:38:20.602Z",
                        "updatedAt": "2025-11-26T20:38:20.602Z"
                    },
                    {
                        "id": "640dee7c-9814-4926-9202-cc2a49764afc",
                        "name": "hello - Term 1",
                        "academicYear": {
                            "id": "9f08432f-1d3d-4c17-bfd5-dfac2a8cf888",
                            "name": "2025-2026"
                        },
                        "terms": [
                            {
                                "id": "3fcf3e5f-c3ce-4a65-9b94-2c01eb93dd99",
                                "name": "Term 1"
                            }
                        ],
                        "gradeLevels": [
                            {
                                "id": "27dd9a5c-a91a-40e8-90f7-e9ff1f975c88",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "41e76678-04c1-4d87-8b1f-060f6e53e9ec",
                                    "name": "Grade 1"
                                }
                            }
                        ],
                        "items": [
                            {
                                "id": "f3537a1e-7291-493d-83c0-f23daf8265f6",
                                "feeBucket": {
                                    "id": "4531ca4c-4b8e-4db2-9fe1-7691368854d2",
                                    "name": "Activities"
                                },
                                "amount": 7880,
                                "isMandatory": true
                            }
                        ],
                        "isActive": true,
                        "createdAt": "2025-11-26T20:38:20.267Z",
                        "updatedAt": "2025-11-26T20:38:20.267Z"
                    },
                    {
                        "id": "06bc9f48-8567-4638-acca-6e84891c7784",
                        "name": "Grade 6 Fee Stricture 2026",
                        "academicYear": {
                            "id": "9f08432f-1d3d-4c17-bfd5-dfac2a8cf888",
                            "name": "2025-2026"
                        },
                        "terms": [
                            {
                                "id": "3fcf3e5f-c3ce-4a65-9b94-2c01eb93dd99",
                                "name": "Term 1"
                            },
                            {
                                "id": "9c508143-6bb0-4a99-b865-3a4ce203b443",
                                "name": "Term 3"
                            },
                            {
                                "id": "d2aae875-c098-4984-b352-7f6fa453afea",
                                "name": "Term 2"
                            }
                        ],
                        "gradeLevels": [
                            {
                                "id": "1a6715e2-fb32-4691-8b3d-f1eb5e8d28de",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "9f26c11a-a4df-4a18-9caf-6d37aba90f72",
                                    "name": "Grade 2"
                                }
                            },
                            {
                                "id": "27dd9a5c-a91a-40e8-90f7-e9ff1f975c88",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "41e76678-04c1-4d87-8b1f-060f6e53e9ec",
                                    "name": "Grade 1"
                                }
                            }
                        ],
                        "items": [
                            {
                                "id": "7eb58b66-1a53-4922-bcf4-19203757cfa0",
                                "feeBucket": {
                                    "id": "4531ca4c-4b8e-4db2-9fe1-7691368854d2",
                                    "name": "Activities"
                                },
                                "amount": 20000,
                                "isMandatory": true
                            }
                        ],
                        "isActive": true,
                        "createdAt": "2025-11-26T18:04:54.479Z",
                        "updatedAt": "2025-11-26T18:04:54.479Z"
                    },
                    {
                        "id": "9a082179-5cf9-4338-9c77-b4a336530eb2",
                        "name": "Grade 6 School Fees 2025",
                        "academicYear": {
                            "id": "9f08432f-1d3d-4c17-bfd5-dfac2a8cf888",
                            "name": "2025-2026"
                        },
                        "terms": [
                            {
                                "id": "9c508143-6bb0-4a99-b865-3a4ce203b443",
                                "name": "Term 3"
                            },
                            {
                                "id": "3fcf3e5f-c3ce-4a65-9b94-2c01eb93dd99",
                                "name": "Term 1"
                            },
                            {
                                "id": "d2aae875-c098-4984-b352-7f6fa453afea",
                                "name": "Term 2"
                            }
                        ],
                        "gradeLevels": [
                            {
                                "id": "41e69444-0b51-4d89-b0f8-a8f17024be89",
                                "shortName": null,
                                "gradeLevel": {
                                    "id": "05962964-3528-4b38-84c1-57854650ab29",
                                    "name": "PP2"
                                }
                            }
                        ],
                        "items": [
                            {
                                "id": "7cda2e47-2639-4bc4-8761-764db9e73450",
                                "feeBucket": {
                                    "id": "34b629e1-dc5a-4b9f-9b77-b2759c7eecbc",
                                    "name": "Tuition Fees"
                                },
                                "amount": 8000,
                                "isMandatory": true
                            },
                            {
                                "id": "671feb70-4672-4c66-8881-184045d858aa",
                                "feeBucket": {
                                    "id": "2fe340b3-19bd-48c4-ad34-0a93dd98f27a",
                                    "name": "Library Fees"
                                },
                                "amount": 23000,
                                "isMandatory": true
                            },
                            {
                                "id": "25acc2f2-1d14-4942-ba5d-9dba939d071c",
                                "feeBucket": {
                                    "id": "22907550-2ce5-4712-94ba-c24239a020be",
                                    "name": "Computer Lab"
                                },
                                "amount": 15000,
                                "isMandatory": true
                            },
                            {
                                "id": "85229d6f-afb2-46d1-9f3c-1c9fdfb1f72f",
                                "feeBucket": {
                                    "id": "9d947cc9-b96d-46df-b5f1-be56e0d3c0d9",
                                    "name": "Meals"
                                },
                                "amount": 7000,
                                "isMandatory": true
                            }
                        ],
                        "isActive": true,
                        "createdAt": "2025-10-03T17:31:05.763Z",
                        "updatedAt": "2025-10-03T17:31:05.763Z"
                    }
                ]
            }
        };

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-KEN', {
                style: 'currency',
                currency: 'KES',
                minimumFractionDigits: 0
            }).format(amount);
        }

        function calculateTotal(feeStructure) {
            return feeStructure.items.reduce((total, item) => total + item.amount, 0);
        }

        function getGradeLevels(feeStructure) {
            return feeStructure.gradeLevels.map(gl => gl.gradeLevel.name).join(', ');
        }

        function groupByTerms() {
            const terms = {
                'Term 1': [],
                'Term 2': [],
                'Term 3': []
            };

            feeData.data.feeStructures.forEach(structure => {
                structure.terms.forEach(term => {
                    if (terms[term.name]) {
                        terms[term.name].push(structure);
                    }
                });
            });

            return terms;
        }

        function renderOverview() {
            const terms = groupByTerms();
            const overviewCards = document.getElementById('overview-cards');
            overviewCards.innerHTML = '';

            Object.keys(terms).forEach(termName => {
                const termStructures = terms[termName];
                if (termStructures.length === 0) return;

                const totalAmount = termStructures.reduce((total, structure) => {
                    return total + calculateTotal(structure);
                }, 0);

                const allGradeLevels = [...new Set(termStructures.flatMap(structure =>
                    structure.gradeLevels.map(gl => gl.gradeLevel.name)
                ))].join(', ');

                const card = document.createElement('div');
                card.className = 'overview-card';
                card.onclick = () => showTerm(termName);

                card.innerHTML = `
                    <h3>${termName}</h3>
                    <div class="grade">Grades: ${allGradeLevels}</div>
                    <div class="total-fee">${formatCurrency(totalAmount)}</div>
                    <div class="fee-items">${termStructures.length} fee structure${termStructures.length > 1 ? 's' : ''}</div>
                `;

                overviewCards.appendChild(card);
            });
        }

        function renderTermDetails(termName) {
            const terms = groupByTerms();
            const termStructures = terms[termName];
            const termDetails = document.getElementById('term-details');

            let html = `<h2>${termName} Fee Structure</h2>`;
            html += '<div class="fee-structure-details">';

            let grandTotal = 0;

            termStructures.forEach(structure => {
                const total = calculateTotal(structure);
                grandTotal += total;
                const gradeLevels = getGradeLevels(structure);

                html += `
                    <div class="fee-item-card">
                        <h3>${structure.name}</h3>
                        <p><strong>Grades:</strong> ${gradeLevels}</p>
                        <div class="fee-structure-details" style="margin-top: 15px;">
                `;

                structure.items.forEach(item => {
                    html += `
                        <div class="fee-item-card" style="margin-bottom: 10px;">
                            <div class="fee-bucket">${item.feeBucket.name}</div>
                            <div class="fee-amount">${formatCurrency(item.amount)}</div>
                            <span class="${item.isMandatory ? 'fee-mandatory' : 'fee-optional'}">
                                ${item.isMandatory ? 'Mandatory' : 'Optional'}
                            </span>
                        </div>
                    `;
                });

                html += `
                        </div>
                        <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #dee2e6;">
                            <strong>Subtotal:</strong> ${formatCurrency(total)}
                        </div>
                    </div>
                `;
            });

            html += '</div>';

            html += `
                <div class="summary-card">
                    <h3>${termName} Summary</h3>
                    <div class="summary-row">
                        <span>Total Fee Structures:</span>
                        <span>${termStructures.length}</span>
                    </div>
                    <div class="summary-row">
                        <span>Grand Total:</span>
                        <span>${formatCurrency(grandTotal)}</span>
                    </div>
                </div>
            `;

            termDetails.innerHTML = html;
        }

        function showOverview() {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelector('.tab').classList.add('active');

            document.getElementById('overview-content').classList.remove('hidden');
            document.getElementById('term-content').classList.add('hidden');

            renderOverview();
        }

        function showTerm(termName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            document.getElementById('overview-content').classList.add('hidden');
            document.getElementById('term-content').classList.remove('hidden');

            renderTermDetails(termName);
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderOverview();
        });
    </script>
</body>
</html>